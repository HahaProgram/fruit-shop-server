{"version":3,"sources":["webpack:///./src/components/register.vue?7718","webpack:///src/components/register.vue","webpack:///./src/components/register.vue?1748","webpack:///./src/components/register.vue","webpack:///./src/components/register.vue?26cf"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","user","expression","attrs","domProps","on","$event","target","composing","$set","getCode","_s","codeMsg","disabled","register","login","staticRenderFns","data","username","email","password","againPass","vCode","interval","created","mounted","beforeDestroy","clearInterval","methods","Rex","result","console","num","setTimeout","component"],"mappings":"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","file":"js/chunk-840a322a.33d940cf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mui-content content\"},[_c('form',{staticClass:\"mui-input-group\"},[_c('div',{staticClass:\"mui-input-row\"},[_c('label',[_vm._v(\"用户名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.username),expression:\"user.username\"}],staticClass:\"mui-input-clear\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},domProps:{\"value\":(_vm.user.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"username\", $event.target.value)}}})]),_c('div',{staticClass:\"mui-input-row\"},[_c('label',[_vm._v(\"邮箱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"mui-input-clear\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入邮箱\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"mui-input-row\"},[_c('label',[_vm._v(\"密码\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"mui-input-password\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})]),_c('div',{staticClass:\"mui-input-row\"},[_c('label',[_vm._v(\"确认密码\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.againPass),expression:\"user.againPass\"}],staticClass:\"mui-input-password\",attrs:{\"type\":\"password\",\"placeholder\":\"请确认密码\"},domProps:{\"value\":(_vm.user.againPass)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"againPass\", $event.target.value)}}})]),_c('div',{staticClass:\"mui-input-row\",attrs:{\"id\":\"code\"}},[_c('label',[_vm._v(\"认证码\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.vCode),expression:\"user.vCode\"}],staticClass:\"mui-input-clear\",attrs:{\"type\":\"text\",\"placeholder\":\"认证码\"},domProps:{\"value\":(_vm.user.vCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"vCode\", $event.target.value)}}}),_c('a',{staticClass:\"getCode\",attrs:{\"href\":\"#\"},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.codeMsg))])]),_c('div',{staticClass:\"mui-button-row\"},[_c('button',{staticClass:\"mui-btn mui-btn-primary\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled},on:{\"click\":_vm.register}},[_vm._v(\"注册\")])])]),_c('a',{staticClass:\"login-now\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.login}},[_vm._v(\"立即登录\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"mui-content content\">\n      <form class=\"mui-input-group\">\n        <div class=\"mui-input-row\">\n          <label>用户名</label>\n          <input type=\"text\" class=\"mui-input-clear\" v-model=\"user.username\" placeholder=\"请输入用户名\" />\n        </div>\n        <div class=\"mui-input-row\">\n          <label>邮箱</label>\n          <input type=\"text\" class=\"mui-input-clear\" v-model=\"user.email\" placeholder=\"请输入邮箱\" />\n        </div>\n        <div class=\"mui-input-row\">\n          <label>密码</label>\n          <input\n            type=\"password\"\n            class=\"mui-input-password\"\n            v-model=\"user.password\"\n            placeholder=\"请输入密码\"\n          />\n        </div>\n        <div class=\"mui-input-row\">\n          <label>确认密码</label>\n          <input\n            type=\"password\"\n            class=\"mui-input-password\"\n            v-model=\"user.againPass\"\n            placeholder=\"请确认密码\"\n          />\n        </div>\n        <div class=\"mui-input-row\" id=\"code\">\n          <label>认证码</label>\n          <input type=\"text\" class=\"mui-input-clear\" v-model=\"user.vCode\" placeholder=\"认证码\" />\n          <a href=\"#\" class=\"getCode\" @click=\"getCode\">{{codeMsg}}</a>\n        </div>\n        <div class=\"mui-button-row\">\n          <button type=\"button\" @click=\"register\" :disabled=\"disabled\" class=\"mui-btn mui-btn-primary\">注册</button>\n        </div>\n      </form>\n      <a href=\"javascript:;\" @click=\"login\" class=\"login-now\">立即登录</a>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      user: {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        againPass: \"\",\n        vCode: \"\"\n      },\n      disabled: false,\n      codeMsg: '获取验证码',\n      interval: null\n    };\n  },\n  created() {\n    // console.log(this.$route.name);\n    this.$store.commit(\"modifyTitle\", \"注册\");\n  },\n  mounted () {\n    this.$store.commit('modifyFlag', true)\n  },\n  beforeDestroy() {\n      clearInterval(this.interval);\n      this.$store.commit('modifyFlag', false)\n  },\n  methods: {\n    login() {\n      // 登录页跳转\n      this.$router.push(\"/login\");\n    },\n    async getCode() {\n      let Rex = /^\\d{5,12}@[qQ][qQ]\\.(com|cn)$/\n      // 获取邮箱验证码\n      if (this.user.username.trim().length === 0) {\n        this.mui.alert(\"用户名不能为空\");\n        return;\n      } else if (this.user.email.trim().length === 0) {\n        this.mui.alert(\"邮箱不能为空\");\n        return;\n      } else if(!Rex.test(this.user.email.trim())){\n        this.mui.alert(\"邮箱格式错误\");\n        return\n      }\n      // 如果在计时，就不能发请求\n      if(this.interval !==null)return \n      // 发起获取验证码请求\n      let result = await this.$http.post(\"getCode\", {\n        username: this.user.username,\n        email: this.user.email\n      });\n     \n      console.log(result.data);\n      if (result.data.code === 0) {\n          // 定时器\n          let num = 30\n          this.interval = setInterval(() => {\n            if(num === 0){\n              clearInterval(this.interval)\n              this.interval = null\n              this.codeMsg = '获取验证码'\n              return\n            }\n            num = parseInt(num)-1\n            this.codeMsg = `已发送${num}s`\n            console.log(num)\n          }, 1000);\n      }\n      this.mui.toast(result.data.msg);\n    },\n    async register() {\n      let Rex = /^\\d{5,12}@[qQ][qQ]\\.(com|cn)$/\n      if (this.user.username.trim().length === 0) {\n        this.mui.alert(\"用户名不能为空\");\n        return;\n      } else if (this.user.email.trim().length === 0) {\n        this.mui.alert(\"邮箱不能为空\");\n        return;\n      } else if(!Rex.test(this.user.email.trim())){\n        this.mui.alert(\"邮箱格式错误\");\n        return\n      }else if (this.user.password.trim().length < 6) {\n        this.mui.alert(\"密码长度至少6位\");\n        return;\n      } else if (this.user.againPass.trim().length < 6) {\n        this.mui.alert(\"确认密码长度至少6位\");\n        return;\n      } else if (this.user.vCode.trim().length === 0) {\n        this.mui.alert(\"请输入正确的认证码\");\n        return;\n      }else if(this.user.password !== this.user.againPass){\n        this.mui.alert('两次输入的密码不一致')\n        return\n      }\n      this.disabled = true\n      let result = await this.$http.post('register', this.user)\n      this.disabled = false\n      this.mui.toast(result.data.msg)\n      if(result.data.code === 0){\n        setTimeout(()=>{\n          this.$router.push('/login')\n        }, 1000)\n      }\n       \n\n    }\n  }\n};\n</script>\n<style scoped>\n.mui-input-row {\n  margin-bottom: 10px;\n}\n\n.login-now {\n  font-size: 14px;\n  float: right;\n  margin-right: 15px;\n}\n.getCode {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=4024fafa&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=4024fafa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4024fafa\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=4024fafa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=4024fafa&scoped=true&lang=css&\""],"sourceRoot":""}